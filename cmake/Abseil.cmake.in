cmake_minimum_required(VERSION 3.0)
include(ExternalProject)
include(GNUInstallDirs)

message(STATUS "Dependency library Abseil - download")

set(ABSEIL abseil CACHE STRING "")
set(ABSEIL_INSTALL_PREFIX ${CMAKE_BINARY_DIR} CACHE STRING "")
set(ABSEIL_INCLUDE_DIRS ${ABSEIL_INSTALL_PREFIX}/include CACHE STRING "")

set(ABSEIL_TEST OFF)

ExternalProject_Add(${ABSEIL}
  GIT_REPOSITORY    https://github.com/abseil/abseil-cpp.git
  GIT_TAG           master
  PREFIX            ${ABSEIL_INSTALL_PREFIX}
  CMAKE_ARGS        -DCMAKE_INSTALL_PREFIX=${ABSEIL_INSTALL_PREFIX} -DBUILD_TESTING=${ABSEIL_TEST}
  BUILD_COMMAND     ""
  TEST_COMMAND      ""
  LOG_DOWNLOAD      ON
  LOG_CONFIGURE     ON
  LOG_BUILD         ON
  UPDATE_DISCONNECTED 1
)
