cmake_minimum_required(VERSION 3.0)

#########################################################################################
# Testing
#########################################################################################
set(GER_TEST_SOURCE_PATH ${CMAKE_SOURCE_DIR}/test)
set(GER_TEST_SOURCES
  command.cc
)
list(TRANSFORM GER_TEST_SOURCES
  PREPEND ${GER_TEST_SOURCE_PATH}/
)

add_executable(${GER_TEST}
  ${GER_TEST_SOURCES}
)

target_link_libraries(${GER_TEST}
  ${GER_LIBRARY}
  ${GTEST_MAIN_LIBRARIES}
  ${GTEST_LIBRARIES}
  pthread
)

add_dependencies(${GER_TEST}
  ${GER_LIBRARY}
  ${GTEST}
)
